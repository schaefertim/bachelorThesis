%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Ergebnisse
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter{Empirische Analyse}\label{Kap-Empirische-Analyse}

\section{Positionen der Parteien}\label{Sec-Parteienpositionen}

[TODO grundsätzliche Erläuterungen warum Parteipositionen notwendig sind]

\subsection{Wahl-O-Mat Daten}
Wahl-O-Mat \citep{WahlOMat} ist ein Tool, das von der Bundeszentrale für politische Bildung zur Verfügung gestellt wird. Der Wahl-O-Mat wird wissenschaftlich begleitet von Prof.\,Dr.\,Stefan Marschall \citep{MarschallWahlOMat}.

Das Ziel des Wahl-O-Maten bestehe darin, über \glqq wesentliche und unterscheidbare Inhalte der Parteien\grqq zu informieren. Außerdem soll so das politische Interesse insbesondere vor den Wahlen aber auch nach den Wahlen geweckt werden. 
Die Thesen werden von von Schülern, Auszubildenden und Studenten entwickelt unter Begleitung des Wahl-O-Mat Teams. Deren ungefähr 80 Thesen werden den Parteien zur Beantwortung vorgelegt. Die Parteien geben an, ob sie zustimmen, nicht zustimmen oder neutral sind. Unter dem Kriterium der Unterscheidbarkeit der Parteien werden  38 Thesen ausgewählt und bilden den Wahl-O-Mat. %[TODO cite https://www.sozwiss.hhu.de/institut/abteilungen/politikwissenschaft/politik-ii/prof-dr-stefan-marschall/forschungsprojekte/wahl-o-mat-forschung/was-ist-der-wahl-o-mat]

[TODO wissenschaftliche Publikationen]

Die Daten umfassen ausdrücklich keine Daten von Wählern. Eine Anfrage bei Prof.\,Dr.\,Stefan Marschall hat ergeben, dass \glqq die Logfiles direkt nach dem Wahl-O-Mat-Einsatz aus Datenschutzgründen vernichtet [werden]. Sie stehen auch uns [wissenschaftliche Begleitung des Wahl-O-Mats] nicht zur Auswertung zur Verfügung.\grqq

Für diese Arbeit greife ich auf die GitHub-Datenbank Qual-O-Mat von Felix Bolte \citep{Bolte2022QualOMat} zurück. Diese Datenbank sammelt alle verfügbaren Wahl-O-Mat Daten mit den Antworten der Parteien und legt diese in einem strukturierten Format ab. Somit kann auf die Daten leichter zugegriffen werden.

\subsection{Hauptkomponentenanalyse Wahl-O-Mat}
\paragraph{Hauptkomponentenanalyse}
Die Wahl-O-Mat Daten stellen die Positionen der Parteien im Hinblick auf die Thesen dar. Angesichts dessen, dass 38 Thesen abgefragt werden ist der Raum der Positionen hochdimensional. Daher nehme ich eine Dimensionsreduktion vor. Mein Mittel der Wahl ist eine Hauptkomponentenanalyse vorzunehmen.

Die Hauptkomponentenanalyse hat nach Bishop und Nasrabadi \citep{bishop2006pattern} zwei verschiedene Motivationen. Die erste Motivation ist es, die Hauptkomponenten so zu wählen, dass die Varianz entlang der Hauptkomponenten maximiert wird. Das entspricht im vorliegenden Fall, dem Ziel, dass sich die Positionen der Parteien entlang der Hauptkomponenten maximal unterscheiden sollen. Die zweite Motivation ist es, die Länge der Projektion zu minimieren. Im Fall der Parteipositionen bedeutet das, dass die projizierte Position möglichst nah an der tatsächlichen Position liegen soll. Beide Ziele entsprechen auch den Eigenschaften, die eine geeignete Projektion der Parteipositionen darstellt.

\paragraph{Umsetzung}
Für die konkrete Umsetzung sind die Details zu beachten. Zunächst sind die Daten aufzubereiten. Dazu werden die Daten in numerische Werte konvertiert, wobei die Position \glqq stimmt nicht zu\grqq der $0$ entspricht und \glqq stimmt zu\grqq der $1$. Die neutrale Position entspricht der Mitte bei $0,5$.
Eine wichtige Entscheidung ist außerdem welche Parteien für die Hauptkomponentenanalyse verwendet werden sollen. In diesem Fall werden ausschließlich die Bundestagsparteien verwendet. Das schränkt zwar die Daten sehr ein, aber damit konzentriert sich die Analyse auf die Parteien die relevant sind.

Die Berechnung der Hauptkomponentenanalyse nehme ich mit scikit-learn \citep{scikit-learn} vor. Die Bibliothek implementiert eine Vielzahl an Algorithmen des maschinellen Lernens. Das garantiert eine einfach Handhabung und effiziente Implementierung.

Bei der Berechnung der Haupkomponentenanalyse muss außerdem bedacht werden, wie die Hauptkomponenten skaliert werden. In der Theorie stellen sie lediglich eine Richtung dar. Wenn jedoch eine Metrik verwendet wird, spielt die Skalierung eine Rolle. Es gibt im Wesentlichen zwei Optionen. Erstens, können die Hauptkomponenten so skaliert werden, dass die Varianz in jeder Hauptkomponente die gleich ist. Zweitens, können die Hauptkomponenten so skaliert werden, dass das Verhältnis der Varianzen zwischen den Hauptkomponenten erhalten bleibt. Ich entscheide mich dafür das Verhältnis der Varianzen zu erhalten, da somit eine Gewichtung zwischen den politischen Themen erhalten bleibt.

Die Positionen der Parteien auf die Hauptkomponenten projiziert sind in Abbildung \ref{fig:party-positions-pca} dargestellt.

\begin{figure}[htb]
	\centering
	\includegraphics[scale=1.0]{../../fig/party_positions}
	\caption{TODO caption}
	\label{fig:party-positions-pca}
\end{figure}

\paragraph{Analyse der Principal Components}
Um den dimensionslosen PCs Bedeutung zu verleihen analysiere ich aus welchen Thesen sie sich zusammensetzen. Der größte Absolutwert im Vektor einer PC repräsentiert gleichzeitig diejenige These, die diese PC ausmacht. Daher sortiere ich die PCs nach absteigendem Absolutwert und sehe mir an welche Thesen am wichtigsten sind. In Tabelle \ref{tab:pca1} sind die 10 Thesen aufgelistet, die für die erste Hauptkomponente am bedeutendsten sind. In Tabelle \ref{tab:pca2} sind die 10 bedeutendsten der zweiten Hauptkomponente aufgelistet.

\begin{table}[htb]
	\centering
	\sisetup{round-mode=places,round-precision=3}
	\csvreader[
		head to column names,
		head to column names prefix=MY,
		tabular				= {|l|c|L{5cm}|L{7cm}|},
		table head			= \hline \bfseries Nr. & \bfseries Wert & \bfseries Titel & \bfseries Text \\\hline,
		late after line 	= \\\hline,
		late after last line=\\\hline,
		filter				= {\value{csvrow}<10},
	]{../../fig/statements_pca0.csv}{}{
		\MYindex & \num{\MYvalue} & \MYlabel & \MYtext
	}
	\caption{TODO caption}
	\label{tab:pca1}
\end{table}

\begin{table}[htb]
	\centering
	\sisetup{round-mode=places,round-precision=3}
	\csvreader[
	head to column names,
	head to column names prefix=MY,
	tabular				= {|l|c|L{5cm}|L{7cm}|},
	table head			= \hline \bfseries Nr. & \bfseries Wert & \bfseries Titel & \bfseries Text \\\hline,
	late after line 	= \\\hline,
	late after last line=\\\hline,
	filter				= {\value{csvrow}<10},
	]{../../fig/statements_pca1.csv}{}{
		\MYindex & \num{\MYvalue} & \MYlabel & \MYtext
	}
	\caption{TODO caption}
	\label{tab:pca2}
\end{table}
[TODO Check dass Daten von 2017, Kein Covid-19!!!]

[TODO grobe Interpretation]

\section{Positionen der Wähler}\label{Sec-Wählerpositionen}

\subsection{Politbarometer Daten}
[TODO Wer?]
[Datenerhebung]
[Datenbeschreibung]

\subsection{Wählerpositionierung mithilfe der Parteipositionen}
\paragraph{Metrik}
[TODO Diskussion Metrik]
[Entscheidung für exponentielle Gewichtung]
\begin{figure}[htb]
	\centering
	\includegraphics[scale=1.0]{../../fig/voter_distribution}
	\caption{TODO caption}
	\label{fig:voter-positions-pca}
\end{figure}

\paragraph{Analyse Rechts-Links}
\begin{figure}[htb]
	\centering
	\includegraphics[scale=1.0]{../../fig/voter_distribution_left_right}
	\caption{TODO caption}
	\label{fig:voter-positions-pca-left-right}
\end{figure}
[Vergleich mit Interpretation PCs]

\paragraph{Parteipräferenz}
\begin{figure}[htb]
	\centering
	\includegraphics[scale=1.0]{../../fig/voter_distribution_party_affiliation}
	\caption{TODO caption}
	\label{fig:voter-positions-pca-party-affiliation}
\end{figure}
[Analyse]

\paragraph{Gesamtbeurteilung Wählerpositionierung}


\section{Weitere Daten}\label{Sec-Weitere-Daten}

\subsection{Wählerwanderung}\label{Sec-Wählerwanderung}

\subsection{Politisches Spitzenpersonal}\label{Sec-Spitzenpersonal}
